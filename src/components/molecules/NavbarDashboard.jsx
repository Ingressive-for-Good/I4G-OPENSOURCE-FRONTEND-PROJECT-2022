import React, { useState } from "react";
import SideNav from "./UserDashboardSideMenu";

// This function handles the navbar on wide screens

function NavbarDashboard() {
  // The logic below handles the opening and closing of the side nav/hamburger menu on mobile.

  const [showNav, setShowNav] = useState(false);

  let nav;
  let menumask;
  let closeBtn;

  if (showNav) {
    nav = (
      <div className="absolute top-0 left-0 bg-white z-40 w-3/4">
        <SideBar />
      </div>
    );
    // menumask adds a transparent dark background once the sidenav on mobile is open.
    menumask = (
      <div
        onClick={() => setShowNav(false)}
        className="absolute top-0 left-0 bg-black-t-50 w-screen h-full pb-[1000px]"
      ></div>
    );
    // closeBtn closes the sidenav on mobile when it is open.
    closeBtn = (
      <svg
        onClick={() => setShowNav(false)}
        className="z-50 absolute left-[245px] top-5"
        width="50"
        height="50"
        viewBox="0 0 50 50"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M16.9795 25.0002C16.9795 24.6205 17.2873 24.3127 17.667 24.3127L32.3333 24.3127C32.713 24.3127 33.0208 24.6205 33.0208 25.0002C33.0208 25.3799 32.713 25.6877 32.3333 25.6877H17.667C17.2873 25.6877 16.9795 25.3799 16.9795 25.0002ZM19.989 31.4168C19.989 31.0371 20.2968 30.7293 20.6765 30.7293L32.3337 30.7293C32.7134 30.7293 33.0212 31.0371 33.0212 31.4168C33.0212 31.7965 32.7134 32.1043 32.3337 32.1043L20.6765 32.1043C20.2968 32.1043 19.989 31.7965 19.989 31.4168ZM25.2037 18.5835C25.2037 18.2038 25.5115 17.896 25.8912 17.896L32.3337 17.896C32.7134 17.896 33.0212 18.2038 33.0212 18.5835C33.0212 18.9632 32.7134 19.271 32.3337 19.271L25.8912 19.271C25.5115 19.271 25.2037 18.9632 25.2037 18.5835Z"
          fill="#0F27BD"
        />
        <path
          d="M24.9997 41.6668C34.2044 41.6668 41.6663 34.2049 41.6663 25.0002C41.6663 15.7954 34.2044 8.3335 24.9997 8.3335C15.7949 8.3335 8.33301 15.7954 8.33301 25.0002C8.33301 34.2049 15.7949 41.6668 24.9997 41.6668Z"
          fill="#98A2E3"
        />
        <path
          d="M30 20L20 30"
          stroke="#FAFAFB"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
        <path
          d="M20 20L30 30"
          stroke="#FAFAFB"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        />
      </svg>
    );
  }

  return (
    <header className="flex p-6 relative  z-40 justify-between items-center md:px-11">
      <svg
        className="md:mt-6"
        width="134"
        height="40"
        viewBox="0 0 134 40"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M7.52 29.352C9.792 29.352 11.328 28.296 12 27.304L10.88 24.104C10.432 25 9.536 25.992 8.32 25.992C7.264 25.992 6.464 25.576 6.464 23.88V16.2H11.232V13.416H6.464V9.256L2.88 11.528V13.416H0.448V16.2H2.88V24.744C2.88 27.496 4.576 29.352 7.52 29.352ZM20.3 29.32C23.756 29.32 25.868 27.752 27.052 25.96L24.844 23.656C24.268 24.968 23.052 26.376 20.332 26.376C17.868 26.376 16.236 24.872 16.044 22.088H27.18C27.244 21.768 27.308 21.096 27.308 20.52C27.308 16.2 24.716 13.096 20.044 13.096C15.66 13.096 12.62 16.328 12.62 21.224C12.62 26.088 15.66 29.32 20.3 29.32ZM20.044 15.976C22.412 15.976 23.82 17.32 24.076 19.784H16.076C16.364 17.256 17.836 15.976 20.044 15.976ZM37.515 29.32C41.419 29.32 43.883 27.112 44.715 24.168L41.483 22.568C41.131 24.808 40.011 26.312 37.579 26.312C35.115 26.312 33.611 24.488 33.611 21.224C33.611 17.928 35.115 16.104 37.579 16.104C39.979 16.104 41.131 17.608 41.483 19.848L44.715 18.248C43.883 15.304 41.419 13.096 37.515 13.096C32.875 13.096 29.963 16.36 29.963 21.224C29.963 26.056 32.875 29.32 37.515 29.32ZM51.0658 29V20.264C51.0658 17.704 51.9618 16.008 54.5858 16.008C56.9858 16.008 57.6258 17.32 57.6258 19.24V29H61.2418V18.152C61.2418 14.92 59.3858 13.096 56.3458 13.096C53.2418 13.096 51.6418 15.208 51.0658 17.672V7.56H47.4818V29H51.0658Z"
          fill="#0F27BD"
        />
        <path
          d="M69.472 29V20.264C69.472 17.704 70.368 16.008 72.48 16.008C74.592 16.008 75.488 17.096 75.488 19.24V29H79.072V20.264C79.072 17.704 79.968 16.008 82.08 16.008C84.192 16.008 85.088 17.096 85.088 19.24V29H88.672V18.152C88.672 14.92 87.104 13.096 84.128 13.096C81.152 13.096 79.616 15.24 79.072 17.704C78.912 14.76 77.376 13.096 74.528 13.096C71.584 13.096 70.048 15.208 69.472 17.672V13.416H65.888V29H69.472ZM95.684 29.32C98.948 29.32 100.452 26.888 100.932 24.84V25.992C100.932 28.232 102.244 29 103.908 29H106.116V25.928H105.124C104.548 25.928 104.292 25.704 104.292 25V19.144C104.292 15.304 102.116 13.096 98.244 13.096C94.788 13.096 92.356 14.888 91.14 16.552L93.284 19.112C94.18 17.48 95.812 16.264 97.892 16.264C100.036 16.264 100.74 17.32 100.868 18.888L95.652 21.096C93.124 22.088 91.588 23.432 91.588 25.64C91.588 27.88 93.124 29.32 95.684 29.32ZM95.044 25.096C95.044 24.296 95.588 23.752 96.932 23.144L100.932 21.352V23.016C100.932 25.128 99.332 26.536 96.964 26.536C95.652 26.536 95.044 25.992 95.044 25.096ZM112.441 29V20.424C112.441 17.832 114.105 15.784 115.897 15.784C116.953 15.784 117.369 16.488 117.369 17.352C117.369 18.248 116.889 19.272 116.377 19.784H120.057C120.345 19.304 120.761 18.184 120.761 16.68C120.761 14.376 119.321 13.096 117.369 13.096C114.585 13.096 113.017 15.336 112.441 17.832V13.416H108.857V29H112.441ZM128.77 29.352C131.042 29.352 132.578 28.296 133.25 27.304L132.13 24.104C131.682 25 130.786 25.992 129.57 25.992C128.514 25.992 127.714 25.576 127.714 23.88V16.2H132.482V13.416H127.714V9.256L124.13 11.528V13.416H121.698V16.2H124.13V24.744C124.13 27.496 125.826 29.352 128.77 29.352Z"
          fill="#F17105"
        />
      </svg>
      <button onClick={() => setShowNav(!showNav)} className="md:hidden">
        <svg
          width="50"
          height="50"
          viewBox="0 0 50 50"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect
            opacity="0.5"
            x="0.458333"
            y="0.458333"
            width="49.0833"
            height="49.0833"
            rx="12.375"
            stroke="#0F27BD"
            strokeWidth="0.916667"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M16.9785 25.0007C16.9785 24.621 17.2863 24.3132 17.666 24.3132L32.3323 24.3131C32.712 24.3131 33.0198 24.621 33.0198 25.0007C33.0198 25.3803 32.712 25.6882 32.3323 25.6882H17.666C17.2863 25.6882 16.9785 25.3803 16.9785 25.0007ZM19.988 31.4173C19.988 31.0376 20.2958 30.7298 20.6755 30.7298L32.3327 30.7298C32.7124 30.7298 33.0202 31.0376 33.0202 31.4173C33.0202 31.797 32.7124 32.1048 32.3327 32.1048L20.6755 32.1048C20.2958 32.1048 19.988 31.797 19.988 31.4173ZM25.2027 18.584C25.2027 18.2043 25.5105 17.8965 25.8902 17.8965L32.3327 17.8965C32.7124 17.8965 33.0202 18.2043 33.0202 18.584C33.0202 18.9637 32.7124 19.2715 32.3327 19.2715L25.8902 19.2715C25.5105 19.2715 25.2027 18.9637 25.2027 18.584Z"
            fill="#0F27BD"
          />
        </svg>
      </button>
      {menumask}
      {nav}
      {closeBtn}
    </header>
  );
}

export default NavbarDashboard;
